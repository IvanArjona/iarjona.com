---
import Layout from '../layouts/PageLayout.astro';
import Contact from '~/components/widgets/Contact.astro';
import Separator from '~/components/common/Separator.astro';
import Skills from '~/components/widgets/Skills.astro';
import Projects from '~/components/widgets/Projects.astro';
import Experience from '~/components/widgets/Experience.astro';
import FullPage from '~/components/common/FullPage.astro';
import Presentation from '~/components/widgets/Presentation.astro';
import config from '~/config';
import { getLangFromUrl, useTranslations } from '~/i18n/utils';

export async function getStaticPaths() {
  return [
    {
      params: { lang: 'en' },
    },
    {
      params: { lang: 'es' },
    },
    {
      params: { lang: undefined },
    },
  ];
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const meta = {
  title: `${config.fullName} - ${t('title-1')} ${t('title-2')}`,
  description: `${t('title-1')} ${t('title-2')}`,
};
---

<Layout {meta}>
  <FullPage next="experience">
    <Presentation />
  </FullPage>
  <Separator />
  <Experience />
  <Separator />
  <Projects />
  <Separator />
  <Skills />
  <Separator />
  <Contact />
</Layout>
