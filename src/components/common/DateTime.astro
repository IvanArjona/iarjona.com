---
import { getLangFromUrl } from '~/i18n/utils';

interface Props {
  datetime?: Date;
  fallback?: string | null;
}

const { datetime, fallback = '' }: Props = Astro.props;
const lang = getLangFromUrl(Astro.url);
const date = datetime?.toLocaleString(lang, {
  month: 'long',
  year: 'numeric',
});
---

{datetime ? (
  <time datetime={datetime.toISOString()}>
    {date}
  </time>
) : (
  <>{ fallback }</>
)}
